<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pt2 hihi</title>
    <link rel="stylesheet" href="css/valentine.css" />
  </head>
  <body>
    <div id="valentineQuestion"><b>Will you go out with me?</b></div>
    
    <!-- Yes button added with the id yesButton -->
    <button class="answerButton" id="yesButton">
      Yes
    </button>
    
    <!-- No button -->
    <button class="answerButton" id="noButton">takmauu baa am(╥﹏╥)o</button>
    
    <br />
    <img src="cat.gif" alt="cat asking question" class="responsive" />
    
    <script>
      // Replace with your Google Apps Script URL
      const scriptURL = "https://script.google.com/macros/s/AKfycbypCJ9wvIP-6rGyzKDsrLLGv_-WzwCmhNosyN8kyaCAVnPOY3zhTrzotuYiPOA6DDaM/exec";

      // Function to send user response to Google Apps Script
      function sendResponse(response) {
        fetch(scriptURL, {
          method: "POST",  // Ensure that method is POST
          body: JSON.stringify({ response: response }),  // Send response data as JSON
          headers: {
            "Content-Type": "application/json",  // Ensure the content type is JSON
          },
        })
          .then((response) => response.json())
          .then((result) => {
            console.log("Success:", result);  // Log success response
            alert("Response submitted: " + response);  // Display success message
          })
          .catch((error) => {
            console.error("Error:", error);  // Log any errors
            alert("Failed to submit response.");  // Display error message
          });
      }

      // "Yes" button click handler
      document.getElementById("yesButton").addEventListener("click", function () {
        sendResponse("Yes");  // Send "Yes" response
        location.href = "thankyou.html";  // Redirect to the thank-you page
      });

      // "No" button click handler
      document.getElementById("noButton").addEventListener("click", function () {
        sendResponse("No");  // Send "No" response

        // Fun interaction: increase font size of "Yes" button
        var yesButton = document.querySelector("#yesButton");
        var currentFontSize = parseInt(window.getComputedStyle(yesButton).fontSize);
        yesButton.style.fontSize = currentFontSize + 10 + "px";  // Increase font size
      });
    </script>
  </body>
</html>
